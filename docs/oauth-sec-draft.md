
Authorization grant


Actors:
CLIENT
USER
AUTH-SERVER
RESOURCE HOLDER

concepts:
Access channel.

pre (provisional)
and next iterations.
conception:


Question: what is flowed, replaced by what, concverted to by the other agent.

First pass:
Issuer: CLIENT
Triggerer: User.

Conception: nothing. (Just user's click.)

Accumulation flow (story):
1. User name (this user requested): pre... of the "bit".
2. Content: Which Scopes requested. User profile. Return URL.

The bit:
1. Who done it.
2. This user has clocked on it.
3. I have a proof for it.
(Maybe: informs: 4. Auth-server has added its stamp of aproval. Added to it. not sure.).

Ultimate:
1. The bit (provisional and approved dont add content. But add an existence-based flag. state-based?).
1.5 Proof of the bit.
2. Scopes (provisional, and approved.)

The Ultimate is not the final ulitmate outcome of the "whole" OAuth-process thing.
There is also ACCESS thing (distributed object. Not object. Entity).
But at then is there only one thing?
The joint and complete state (like pure state in QM) consists of not only the ACCESS-CODE with that context-object in the Auth server/resource holder, but also Client.
It is a Closure (in the sense in Mathematics).

Client's user is different to Sertver's client.

But at a higher level they refer to the same object. (closure, but at a higher level.).

OAuth assumes there ais one physicaql user (identity). BVut in reality it may be not. For example: It works for the user.
Or does not have access to all that user has. (cool! like SUDO. No further granularity possible).
But I could not say it well. But it's OPK.

The draft of ask
================
ideal/draft/ask/imagination
ideal/request/want/imagination/provisional/pull/intention. Non-accumulated, but the direction.

Clients asks:
here is what I will have in the end.
A daft picture of the final ACCESS CODE: i.e. (provisional scopes list + provisional user identity)   (even the user identity will change.)

client in fact asks for the final object: has it in mind a rough picture. imagination (one that will be tuned into reality: subj-obj coordination/vonvergence/match/conforming (like prediction/expectaiton with reality: REAL) ). ideal.
intention.

From beginnig, we are asking for an authoreicaiotn code.

transforms/iterations:
======================
So here are three codes.
Even if two codes, only, but the fist one is profile, configuration, etc.

The contents are repleced.
but: in fact it is accumulation (only unnecessary stuff is removed. The MI core part is keps and evolved and only completed. Only accumulated. Compatible with the initial direction)

The contents are not the same.
BNut the lat one has what it required in beginning. Thgrows away unnecessary stuff. But can kleep other things implicitly.



asking the user: another way to see it
======
(Instead of seeing it as a thread going through the user, a needle/ring around the thread of the flow of info, ...: )
The auth server RA'SAN (individually) asks the user.
aha.
indenpendently.
First doesnt trust it.
(says wait, let me ask him iof he realy asked for it. Now the client is only a BROKER. A vessel to bring user's request to him. A holder. But auth-sever does not trust that carrier. Becuase Carriers/Vessels can fake. The concent is fully in their control)
But has a direction.
not the con...


aha that information is not an extra bit
or representation
or even state (implicit, stage, etc)
it is in CHANNEL identity (channel label).

ACCESS ROD: is a channel.
new channel added.

#### Scope codes
Scope names are different in various providers
Imagine FS/duirectory access: 
ACCESS
PROVIDER: GOOGLE
scope code(looks like URL but isn't)
the URL (resource locator).

(but the scope is different for each provider. Nit usniform. In fact, part of that content.)

Scope is used for:
access (scope can be seen as folder/path) or operations (Action)


### ?
Concept:
information that you send to the user and ask his permission ABOUT.
Hece, essential info. (Security-essential)

So first ASK does not have any CODE.

### Again: Iterations/transformations/reppalcements:
The accesses (Scope list/set) is evolved here only monotonic. (no adding. only removing).
(The fact that it is not removed, means it is proven now.)

(Reminds me of PP: cheking with reality. Lookup REAL. HEre: Lookup: USER.)

#### Agents
So we have three agents:
CLIENT. RESOURCE HOLDER. USER.
(Like REAL, SYMBOL in Lacan)

#### exluding others
Others: exluding others

Maybe:
cherk shode bva dideh shode.
hala yeki dige tamiz.
We are user (3 eppoepl for sure have seen it). But not excluded ALL other eveyone else.
to EXCLUDE(!) eveyone else.
(We dont send it to user. Although we ccould. We can own it.but dfor security reasons we dont give it to him becasuse his channels are not very secure. But why we ask his permission and trust him (his consent) if it is not fully secure?)
(Client and Resource-hoer: O we trust eachother and user has aggreed with this. But, becasue a few people saw it, let's continue privately. not even asking the user anymore. Resource holder is more on user's side. and CLIENT is not. But more importantly, against third parties. So they even send out the user, but for his benefit.).
Agents:
Client (against user . potentially)
Reource-holder (pro user)
User itself.
Others (interceptors).



aha:
a NEW request is generated but in a different channel.
that's it.
ti's a diferent channel.
simply.
swuitching channel.
but we dont share the same code between them.
why?
because of what he said...
But we could use the same code.

So this shared key (Auth code) IS shared, but only for one transsation: One that receives the ACCESS CODE.
(It is also betwen different people! Auth server versus ACCESS rserver (Actual reseoufrce holder. Resource server))


that secret key needs to remain there.



### See
* [securoty](https://github.com/sohale/cs-glossaries/blob/master/security/security.md)
* [this document](https://github.com/sohale/cs-glossaries/blob/master/docs/oauth-sec-draft.md)
* [rest: study workbook](https://github.com/sohale/cs-glossaries/blob/master/restful.md)
* tls (includes layers): [tls-1](https://github.com/sohale/cs-glossaries/blob/master/made-simple/tls-1.md)
